# BUPT 2025春季 通信原理作业

## 项目简介

本项目模拟一个数字通信系统，实现音频信号和比特数据的频分复用 (FDM) 传输。发送端包含信道编码、调制、脉冲成形和 FDM 复用。接收端功能正在开发中。

## 文件结构

. 

├── 题目.pdf              	 # 项目题目/要求文档 

├── 天雷滚滚.wav             # 待传输的音频文件 

├── bitstream.bin       	# 待传输的比特数据

├── comtheory.py           	# 通信理论基础函数库 

├── helperfunc.py        	  # 自定义辅助函数库 

├── exam_work.ipynb	#  主文件(Jupyter Notebook)

├── exam.py                	# 备份

└── exam.ipynb             	# 备份 

## 功能描述 (发送端)

本项目 `exam_work.ipynb` 文件目前实现了数字通信系统的发送端功能，主要步骤如下：

1.  **数据导入：**
    *   导入 `天雷滚滚.wav` 音频文件，并提取两路音频数据 (`audio_data1`, `audio_data2`)。
    *   从 `bitstream.bin` 文件导入预生成的比特流 (`bit_data`)。

2.  **数据准备：**
    *   将两路音频数据转换为比特流 (`bit_audio_data1`, `bit_audio_data2`)。

3.  **信道编码 (卷积编码)：**
    *   对三组比特流（两路音频比特流和一路数据比特流）进行卷积编码，增强抗干扰能力。
    *   使用生成矩阵 `G = np.array([[1, 1, 1], [1, 0, 1]])`。

4.  **交织：**
    *   对编码后的三组比特流进行块交织，以分散突发错误。
    *   交织器参数：深度 `120`，宽度 `120`。

5.  **星座映射 (64-QAM)：**
    *   将交织后的比特流映射为 64-QAM 符号的 I 路和 Q 路 PAM 电平。

6.  **脉冲成形 (根升余弦滤波 - RCC)：**
    *   对 I 路和 Q 路 PAM 电平进行根升余弦成形滤波，以减少符号间干扰 (ISI) 并控制信号带宽。
    *   系统采样率 `Fs_system = 2.272 MHz`。
    *   符号速率：音频流 `284 kbaud`，比特数据流 `32 kbaud`。
    *   滚降系数 `rcc_alpha = 0.25`。

7.  **载波调制 (QAM)：**
    *   将成形后的基带 I 路和 Q 路信号调制到不同的载波频率上。
    *   载波频率：`fc_audio1 = 201 kHz`，`fc_audio2 = 602 kHz`，`fc_bitdata = 840 kHz`。

8.  **频分复用 (FDM)：**
    *   将三路调制后的信号叠加，形成最终的 FDM 传输信号。
    *   所有信号在叠加前进行零填充以统一长度。

9.  **功率谱密度分析：**
    *   计算并绘制复用前三路信号和复用后 FDM 信号的双边平滑功率谱密度 (PSD)。
    *   PSD 使用 `Fs_system` 作为采样率计算。
    *   绘图频率范围限制在 `-900 kHz` 到 `1000 kHz`。

## 环境配置

运行本项目需要以下 Python 库：

*   `numpy`
*   `matplotlib`
*   `scipy`
*   `comtheory` (自定义库，已提供)
*   `helperfunc` (自定义库，已提供)

## 如何运行

1. **克隆或下载**本项目到本地。
2. **准备 `bitstream.bin` 文件**。
3. 启动 Jupyter Notebook
4. 在 Jupyter 界面中，打开并运行 `exam_work.ipynb`。

## 注意事项

- **`comtheory.py` 和 `helperfunc.py`：** 这两个文件是项目的重要组成部分，请确保它们与 `exam_work.ipynb` 位于同一目录下。
- **主文件：** 本项目的主运行文件是 `exam_work.ipynb`。
- **采样率与频率轴：** 在 `exam_work.ipynb` 中，时间轴 `t` 和频率轴 `f` 的定义已更新为与实际系统采样率 `Fs_system` (2.272 MHz) 和调制信号的实际长度相匹配。PSD 绘制也基于此真实采样率。
- **接收端：** 当前代码仅实现了发送端。接收端的解调、解码等功能尚待实现。

## 未来工作/待办事项

- 实现完整的接收端功能，包括：
	- 带通滤波分离信号
	- 载波解调 (QAM 解调)
	- 根升余弦匹配滤波
	- 采样判决
	- 星座解映射
	- 解交织
	- 卷积码译码
- 评估系统性能（如 BER、SNR）。
